<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem tập tin</title>
    <script>
        const viewFile = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const fileId = atob(urlParams.get('id')); // Giải mã mã ID
            const storageName = 'YOUR_STORAGE_NAME'; // Thay thế bằng tên kho của bạn
            const storageData = JSON.parse(localStorage.getItem(storageName));
            const file = storageData.files[fileId];

            if (file) {
                const contentType = file.content.split(';')[0].split(':')[1];
                document.write(`<iframe src="${file.content}" style="width:100%; height:100%;"></iframe>`);
            } else {
                document.write("<h2>Tập tin không tìm thấy!</h2>");
            }
        };
    </script>
</head>
<body onload="viewFile()">
</body>
</html>